<!DOCTYPE html>
<html><head><title>Upload Project</title><style>
  body{font-family:Arial;background:#f0f4f8;padding:2rem}
  .container{max-width:600px;margin:0 auto;background:white;padding:2rem;border-radius:12px}
  input,textarea,select,button{width:100%;padding:0.8rem;margin:0.5rem 0;border:1px solid #ddd;border-radius:8px}
  button{background:#0066ff;color:white;border:none;font-weight:600;cursor:pointer}
  .success{color:green;margin:1rem 0}
</style></head>
<body>
  <div class="container">
    <h2>Upload Project <a href="/admin/logout" style="float:right;font-size:0.8rem">Logout</a></h2>
    {% if request.args.get('success') %}<p class="success">Uploaded!</p>{% endif %}
    <form method="post" enctype="multipart/form-data">
      <input type="text" name="title" placeholder="Title" required>
      <textarea name="description" placeholder="Description" rows="3"></textarea>
      <input type="url" name="url" placeholder="Live URL (Web only)">
      <select name="service" id="service" required onchange="toggleDigital()">
        <option value="facilities">Facilities</option>
        <option value="digital">Digital</option>
      </select>
      <select name="type" id="type" style="display:none">
        <option value="web">Web Design</option>
        <option value="graphics">Graphics</option>
      </select>
      <select name="category" id="category" style="display:none">
        <option>Logos</option><option>Banners</option><option>Social Media</option>
      </select>
      <input type="file" name="image" accept="image/*" required>
      <button type="submit">Upload</button>
    </form>
  </div>
  <script>
    function toggleDigital() {
      const s = document.getElementById('service').value;
      const t = document.getElementById('type');
      const c = document.getElementById('category');
      t.style.display = s === 'digital' ? 'block' : 'none';
      c.style.display = (s === 'digital' && t.value === 'graphics') ? 'block' : 'none';
    }
    document.getElementById('type').onchange = () => {
      document.getElementById('category').style.display = 
        document.getElementById('type').value === 'graphics' ? 'block' : 'none';
    };
  </script>
</body></html>